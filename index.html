<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ¦¬</text></svg>"
    />

    <title>Comparing LCP images with lazy-loading and fetchpriority=high</title>

    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <h1>Comparing LCP images with lazy-loading and fetchpriority=high</h1>

    <p>Compare these:</p>

    <table>
      <thead>
        <tr>
          <th>Test Case</th>
          <th>LCP-TTFB</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><a href="plain-lcp-image.html">Plain LCP image</a></td>
          <td>120.2 ms</td>
        </tr>
        <tr>
          <td>
            <a href="lazy-loaded-lcp-image.html">Lazy-loaded LCP image</a>
          </td>
          <td>119.1 ms</td>
        </tr>
        <tr>
          <td>
            <a
              href="lazy-loaded-lcp-image-with-fetchpriority-high-attribute.html"
              >Lazy-loaded LCP image with fetchpriority=high attribute</a
            >
          </td>
          <td>141.1,</td>
        </tr>
        <tr>
          <td>
            <a href="lcp-image-with-fetchpriority-high-attribute.html"
              >LCP image with fetchpriority=high attribute</a
            >
          </td>
          <td>142.6 ms</td>
        </tr>
        <tr>
          <td>
            <a href="lcp-image-with-fetchpriority-high-preload-link.html"
              >LCP image with fetchpriority=high preload link</a
            >
          </td>
          <td>119.8 ms</td>
        </tr>
        <tr>
          <td>
            <a
              href="lazy-loaded-lcp-image-with-fetchpriority-high-preload-link.html"
              >Lazy-loaded LCP image with fetchpriority=high preload link</a
            >
          </td>
          <td>120.2 ms</td>
        </tr>
      </tbody>
    </table>

    
    <p>
      
    </p>Note that the pages include five small images in the header because <a href="https://docs.google.com/document/d/1bCDuq9H1ih9iNjgzyAL0gpwNFiEP4TZS-YLRp_RuMlc/edit">Chrome Resource Priorities and Scheduling</a> automatically loads the first 5 images larger than 10,000pxÂ² with high priority, so making the LCP image the 6th image ensures that we can see the effect of preloading.


    
    ,,142.6,118.5,120.4,118.9
    <p>
      The LCP-TTFB metric comes from the benchmark-web-vitals command in the wpp-analysis repo. It reflects the LCP time subtracting the TTFB.
    </p>
    
    <hr>
    <address><a href="https://weston.ruter.net/">@westonruter</a></address>
  </body>
</html>
